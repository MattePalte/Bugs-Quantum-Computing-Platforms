In the beamsplitter, add checks to ensure that the Transmittivity parameter raise an application error for  Complex values, rather than passing and creating problems later.