Bug: where the loop variable is not checked to be an integer, now it raises error for non sensical values.