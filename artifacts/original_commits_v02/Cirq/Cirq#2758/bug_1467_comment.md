The test are labelled as flaky in the sense they take too long to execute (due to the randomness), the solution is to add a random seed to avoid randomness and create circuits which execute in shorter time. 