handles special cases in the hamiltonian mapping