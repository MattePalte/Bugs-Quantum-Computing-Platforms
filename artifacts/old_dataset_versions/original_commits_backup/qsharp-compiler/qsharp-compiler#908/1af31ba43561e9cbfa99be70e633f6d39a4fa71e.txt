Fixing short circuiting for logical operators (#908)