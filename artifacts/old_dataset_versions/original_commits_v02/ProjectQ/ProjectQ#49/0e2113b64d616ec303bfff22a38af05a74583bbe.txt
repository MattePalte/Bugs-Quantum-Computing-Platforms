Fix ControlledGate failing when a register is empty (#49)