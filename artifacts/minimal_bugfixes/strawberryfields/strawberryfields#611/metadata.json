{"commit_hash": "45309dcad0133d2c59a91c09ab294bef29a7a621", "commit_msg": "Fix for using `TDMProgram` with `timebins % concurrent_modes != 0` (#611)\n\n* add td3 support\r\n\r\n* run black\r\n\r\n* fix space-unrolling\r\n\r\n* fix apply_ops\r\n\r\n* fix fix\r\n\r\n* Adds first test\r\n\r\n* One test failing\r\n\r\n* greatly improve space-unrolling\r\n\r\n* remove validate measurements\r\n\r\n* remove tests\r\n\r\n* unroll only if rolled\r\n\r\n* Adds new test: test_cov() currently failing\r\n\r\n* fix\r\n\r\n* fix so that test passes\r\n\r\n* tidy up tdmprogram\r\n\r\n* change range(len) to enumerate due to codefactor\r\n\r\n* run black\r\n\r\n* disallow looping back when space-unrolling\r\n\r\n* Adds space unrolling tests\r\n\r\n* set default shots in unrolling\r\n\r\n* setting local seed by hand\r\n\r\n* Adds explicit value of hbar so that when it takes the Nathan convention (hbar=1.7) the tests still work\r\n\r\n* Apply suggestions from code review\r\n\r\n* add roll test\r\n\r\n* add final test\r\n\r\n* fix shots bug\r\n\r\n* fix test\r\n\r\n* make test pass\r\n\r\n* fix codefactor issues\r\n\r\n* more codefactor fixes\r\n\r\nCo-authored-by: Nicolas Quesada <zeitus@gmail.com>", "project_name": "strawberryfields", "id": "1864", "human_id": "strawberryfields#611", "annotator_comment": "Fixer: \"The correct samples are now returned when running a TDMProgram with several shots, where `timebins % concurrent_modes != 0`.\" Reporter: \"The TDMProgram will produce wrong results if the number of timebins is not an integer multiple of the number of concurrent modes. This is because the tdmprogram.unroll() function simpy multiplies the unique circuit with the number of shots, not taking into account which qumode has been measured most recently.\""}