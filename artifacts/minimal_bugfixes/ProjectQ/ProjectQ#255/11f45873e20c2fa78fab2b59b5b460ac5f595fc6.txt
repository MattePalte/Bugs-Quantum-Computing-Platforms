Fix StatePreparation division by 0 and update docs (#255)